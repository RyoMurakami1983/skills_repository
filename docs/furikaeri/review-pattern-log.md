# Code Review Agent 検出パターンログ

ローカル code-review agent と GitHub Copilot PRレビューの検出パターンを蓄積し、
各レビューアーの強み・弱みを言語化する。

## 目的

- code-review agentへの指示改善に繋げる
- 「何を見逃しやすいか」を明文化して再発防止
- 3PR分のデータでレポート作成 → agent指示にフィードバック

---

## PR別 検出パターン比較

### PR #61: 残件Issue一括対応（2026-02-22）

| # | 指摘内容 | ローカル agent | Copilot PR | カテゴリ |
|---|---------|:-:|:-:|----------|
| 1 | ラベル色コード重複（3カテゴリで同色使用） | ✅ | ❌ | データ整合性 |
| 2 | EN/JAセクション順序不一致（Common Pitfalls vs Anti-Patterns） | ✅ | ❌ | 構造整合性 |
| 3 | `gh pr review --comment` がスレッド返信ではなく全体コメント | ✅ | ❌ | CLI正確性 |
| 4 | W5行番号がクリーニング後コンテンツ基準でオリジナルと不一致 | ❌ | ✅ | コードロジック |

**ローカル agent**: 3/4 検出（75%）
**Copilot PR**: 1/4 検出（25%）

#### 分析

**ローカル agentの強み**:
- ドメイン知識に基づくデータ整合性チェック（色コードの一意性）
- EN/JA構造パリティの検出
- CLI仕様の正確性検証（ドキュメント実使用ベース）

**ローカル agentの弱み**:
- コードの内部ロジック精度（行番号計算のような実装詳細）

**Copilot PRの強み**:
- コードロジックの精度検証（変数スコープ、計算結果の正確性）

**Copilot PRの弱み**:
- ドメイン固有のデータ整合性（色コードの意味的重複など）
- マルチファイル間の構造整合性

---

### PR #XX: （次回追記）

| # | 指摘内容 | ローカル agent | Copilot PR | カテゴリ |
|---|---------|:-:|:-:|----------|
| | | | | |

---

## 累積サマリー（3PR分でレポート化）

| カテゴリ | ローカル agent 検出率 | Copilot PR 検出率 |
|---------|:---:|:---:|
| データ整合性 | - | - |
| 構造整合性 | - | - |
| CLI正確性 | - | - |
| コードロジック | - | - |

## agent指示改善メモ

（検出パターンの蓄積に基づき、code-review agentへの指示改善案を記録）

- **TODO**: コードの内部ロジック精度チェック（行番号計算、インデックス操作等）を明示的に指示に含める
