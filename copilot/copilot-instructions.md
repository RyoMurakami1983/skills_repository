# 開発憲法：skills_repository ガイドライン

このリポジトリでのすべてのコード生成・スキル作成は、以下の開発憲法に基づきます。

---

## 🎯 Philosophy（村上涼の開発哲学）

### 私の宣言

**「基礎が応用を生み、型が速さを生み、教えることが自律成長を生む」**

**前提条件**: 余白を守る → 変化の起点となる隙間を、奪われない仕組みで守る

**時間軸を貫く3本柱**:
1. **基礎/型/原理原則**: 応用の源泉が尽きない設計思想
2. **コツコツ/継続/積み上げ**: 退屈を避けながら成長する燃料
3. **教える/広める/仕組み化**: 知識を個人消費せず増幅・伝播

### 背景（Who I Am）

- **20年の製造業エンジニアリング**（東北特殊鋼株式会社）
  - 電気情報、計測技術、磁気工学の現場経験
  - 「基礎の正確さ」と「再現可能な型」の重要性を体得
- **30年の空手修行**
  - 「暗黙知を相手に合わせて言語化する技術」の習得
  - 指導を通じた形式知化の実践
- **生成AIとの出会い**
  - 知識の増幅可能性を発見
  - 業務自動化による時間創出

### Vision・Mission・Values

**Vision（未来・結果）**
- 余白から基礎が芽吹き、応用が生まれ続ける、自律成長する組織と人々
- 私がいなくても、誰かが新しい挑戦を始められる
- 型があるから速く動け、基礎があるから応用が尽きない

**Mission（行動）**
- 余白を守り、揺るがない基礎と再利用可能な型をコツコツ作り、教え、仕組みに埋め込む
- 暗黙知を相手に合わせて言語化し、伝える
- 個人の速さを保ちながら、チームで再現できる仕組みを設計する

**Values（大切にしていること）**
- **温故知新**: 過去の知恵と新しい技術を繋ぎ、時間軸を超えた価値を創造
- **継続は力**: 退屈しない挑戦をコツコツ積み上げ、個人と組織の複利成長へ
- **基礎と型の追求**: 最小形式で最大可能性を生む設計思想。すべての応用は基礎から
- **成長の複利**: 自分も周囲も同時に成長する構造をつくる。教える喜び、学ぶ喜び
- **ニュートラルな視点**: 偏らず、誰もが使える普遍性を保つ。個人知を形式知に
- **余白の設計**: 学びと変化が生まれる隙間を、構造的に守る

---

## 📋 コーディング規律

### スキル作成時（SKILL.md）

**構造**:
- YAMLフロントマター完備（name, description, metadata）
- "When to Use This Skill"を最初のH2セクションに
- "Core Principles"でValuesとの整合性を明示
- パターン形式で段階的学習（Basic → Intermediate → Advanced）
- "Best Practices"と"Anti-Patterns"を明記
- FAQ/Quick Referenceで実用性を確保

**言語**:
- 英語版（SKILL.md）+ 日本語版（references/SKILL.ja.md）の両方作成
- 日本語版でWhyを詳細に説明

**Values反映**:
- 各パターンに対応するValuesを明記
- 「基礎と型」「成長の複利」等との紐付けを明確に

### コード生成時（Python/C#/TypeScript等）

**品質基準**:
- ✅ **DRY原則**: 重複を避け、単一の信頼できる情報源を維持
- ✅ **意味のある命名**: 変数名・関数名で意図を明確に伝える
- ✅ **一貫したスタイル**: プロジェクト全体で統一
- ✅ **小さな問題も放置せず修正**: Broken Windows理論

**エラーハンドリング**:
- ✅ エラーの抑制ではなく、**根本原因を修正**
- ✅ 早期にエラーを検出し、**明確なエラーメッセージ**を提供
- ✅ 外部APIやネットワーク通信は**必ず失敗する可能性**を考慮

**テスト**:
- ✅ 実装詳細ではなく**振る舞いをテスト**
- ✅ テスト間の依存を避け、**任意の順序で実行可能**に
- ✅ **高速で、常に同じ結果**を返すように

**コメント**:
- ✅ コメントは「**なぜ**」を説明：「何を」はコードで表現
- ✅ 暗黙知を言語化：「なんとなく」ではなく理由を明確に

### Git運用

**Conventional Commits形式**:
```
<type>: <subject>

<body>

Why: <なぜこの変更が必要だったか>
```

**タイプ**:
- `feat`: 新機能の追加
- `fix`: バグ修正
- `docs`: ドキュメント更新
- `test`: テストの追加・修正
- `refactor`: コード改善（機能追加やバグ修正ではない）
- `chore`: ビルドプロセスや依存関係の更新

**原子的コミット**:
- ✅ コミットは**原子的**で、単一の変更に焦点を当てる
- ✅ 1コミット = 1つの責務
- ✅ レビュー、リバート、デバッグが容易

**コミットメッセージ**:
- ✅ 明確で説明的な**コミットメッセージを日本語で記述**
- ✅ **Why（なぜ）を必ず明記** - 未来の自分やチームへの贈り物
- ✅ 本文で具体的な変更内容を列挙

**ブランチ戦略（GitHubフロー）**:
- ✅ **main/masterブランチへの直接コミット**は避ける
- ✅ `feature/`, `fix/`, `docs/`, `refactor/`, `test/`, `chore/`プレフィックス使用
- ✅ Pull Requestでコードレビュー

---

## 🔧 Values別の実装指針

### 基礎と型
**指針**: 最小形式で最大可能性を追求。パターンを確立し、再利用可能に。

**実装**:
- Conventional Commits形式の徹底
- SKILL.mdの標準構造に従う
- 設計パターンを明示的に文書化
- テンプレート・雛形を提供

**例**:
```python
# 悪い例：特定ケースに依存
def process_data(data):
    return data * 2

# 良い例：汎用的なパターン（基礎と型）
def transform(data, operation):
    """汎用的な変換関数。再利用可能な型として設計"""
    return operation(data)
```

### 成長の複利
**指針**: コメントでWhyを説明。学習資産となるコード・ドキュメントを作成。

**実装**:
- コミットメッセージに必ずWhyを記載
- コードコメントで意図を明確に
- ドキュメントを「未来の自分」への手紙として書く
- エラーメッセージも学習機会に

**例**:
```python
# 悪い例：Whyがない
timeout = 30

# 良い例：Whyを説明（成長の複利）
timeout = 30  # Why: 大量データ処理時に10秒では不足。
              # 本番ログ分析により30秒が適切と判断（2026-02-10調査）
```

### 温故知新
**指針**: 既存の良いパターンを活かす。新技術と組み合わせる。

**実装**:
- 既存のベストプラクティスを参照
- 新しい技術を原理原則レベルまで掘り下げる
- レガシーコードを尊重しつつ改善
- `git log`、`git blame`で過去の知恵を活用

**例**:
```python
# 悪い例：車輪の再発明
def custom_http_client():
    # 独自実装...

# 良い例：既存パターン + 新技術（温故知新）
import httpx  # 既存の優れたライブラリ（過去の知恵）
async def fetch_data(url):  # 非同期（新技術）
    """HTTPXライブラリを活用。非同期処理で性能向上"""
    async with httpx.AsyncClient() as client:
        return await client.get(url)
```

### 継続は力
**指針**: 小さな改善を積み重ねる。ボーイスカウトルール（来た時より良い状態で残す）。

**実装**:
- 小さなコミットを毎日積み重ねる
- 発見した小さな問題もすぐ修正
- リファクタリングを恐れない
- 技術的負債を明示的に記録し、計画的に返済

**例**:
```python
# 悪い例：巨大な変更を一度に
git commit -m "feat: 全機能実装とリファクタリングとテスト追加"

# 良い例：小さく積み重ねる（継続は力）
git commit -m "feat: ユーザー認証の基本機能を実装"
git commit -m "refactor: 認証ロジックを関数型に改善"
git commit -m "test: 認証フローのテストを追加"
```

### ニュートラル
**指針**: 個人知を形式知に。誰もが理解できる表現。偏らない設計。

**実装**:
- 暗黙の前提を排除し、明示的に文書化
- 専門用語は必ず定義
- 多様な背景の人が理解できる説明
- プラットフォーム・言語に依存しない普遍的な原則

**例**:
```python
# 悪い例：暗黙知（チーム内用語）
def process_tkss_data(data):  # TKSSって何？
    ...

# 良い例：形式知化（ニュートラル）
def process_tokushukou_steel_data(data):
    """東北特殊鋼（TKSS）のデータを処理
    
    Args:
        data: 計測システムから取得した生データ
              形式: {"temp": float, "pressure": float, ...}
    """
    ...
```

### 余白の設計
**指針**: 学びと変化が生まれる隙間を、構造的に守る。余白は意図的に設計する。

**実装**:
- 自動化で時間を生み、その時間を新しい挑戦に充てる
- 過度な最適化で余白を潰さない ── 適度な「遊び」を残す
- リファクタリングやドキュメント整備の時間を「余白」として計画に組み込む
- 「忙しい」は仕組みの設計不足 ── 余白を守る仕組みを先に作る

**例**:
```python
# 悪い例：余白がない（全時間を機能実装に充てる）
sprint_tasks = [feature_1, feature_2, feature_3, feature_4, feature_5]

# 良い例：余白を設計する（余白の設計）
sprint_tasks = [feature_1, feature_2, feature_3]
improvement_buffer = ["リファクタリング", "学習", "ドキュメント整備"]
# Why: 余白がなければ基礎に触れることすらできない
```

---

## 🛡️ セキュリティ・信頼性・パフォーマンス

### セキュリティ
- ✅ APIキー、パスワード等の**ハードコードは絶対禁止**
- ✅ すべての外部入力を検証
- ✅ 必要最小限の権限で動作（最小権限の原則）

**注**: 機密情報の管理方法（環境変数、Windows DPAPIEncryption、Azure KeyVault等）の具体的な実装は、各言語・プラットフォーム専用のskillで詳述します。

### 信頼性
- ✅ タイムアウト処理を適切に設定
- ✅ リトライ機構の実装（指数バックオフを考慮）
- ✅ サーキットブレーカーパターンの活用

### パフォーマンス
- ✅ 推測ではなく**計測に基づいて最適化**
- ✅ 初期段階から拡張性を考慮
- ✅ N+1問題やオーバーフェッチを避ける

---

## 📚 ドキュメント基準

- ✅ READMEに**プロジェクトの概要、セットアップ、使用方法**を明確に記載
- ✅ ドキュメントを**コードと同期**して更新
- ✅ **実例を示す**ことを優先
- ✅ 重要な設計判断は**ADR (Architecture Decision Records)**で記録

---

## 🎓 コードレビューの姿勢

**レビュワー**:
- ✅ **建設的なフィードバック**：改善提案として
- ✅ **コードに焦点**：個人攻撃にしない
- ✅ 「なぜそう思うか」を説明

**作成者**:
- ✅ **フィードバックを学習機会として歓迎**
- ✅ **変更の理由と影響**を明確に説明
- ✅ 防衛的にならず、共に成長する姿勢

---

## 🗣️ 用語辞書（Ubiquitous Language）

エージェントへの日本語指示と、対応するスキル・アクションのマッピング。
SKILL.md は英語で記述するため、日本語トリガーはこの辞書で解決する。

| 日本語指示 | English Skill / Action | 説明 |
|-----------|----------------------|------|
| プルリクして / PR作成して / PRを作って | `github-pr-workflow` | 状態検知→PR作成→Issue close |
| コミットして | `git-commit-practices` | Conventional Commits でコミット |
| Issueにして / Issue起票 | `github-issue-intake` | Issue作成とトリアージ |
| セットアップして / Git初期設定 | `git-initial-setup` | ブランチ保護・フック設定 |
| スキル作って / スキル新規作成 | `skills-author-skill` | SKILL.md を新規作成 |
| スキル修正して / スキル改善 | `skills-revise-skill` | 既存スキルを改訂 |
| バリデーションして / 検証して | `skill-quality-validation` | SKILL.md の品質検証 |
| テンプレ作って | `skills-generate-skill-template` | スキルの雛形生成 |
| ふりかえりして / ふりかえり | `furikaeri-practice` | セッション後のKPT/YWT改善サイクル |

> **運用ルール**: スキルの新規作成・改訂時は、この辞書も合わせて更新すること。

**Glossary Last Updated**: 2026-02-14

---

## 🔗 参照

詳細な開発憲法は `PHILOSOPHY.md` を参照してください。

このガイドラインは、20年の製造業経験 + 30年の空手修行 + AI活用の知見を統合し、「余白を守り、誰もが挑戦できる基礎と型」を実現するために作成されました。

**余白があるから基礎が芽吹く。基礎があるから応用が尽きない。型があるから速く動ける。**

---

**Author**: RyoMurakami1983  
**Last Updated**: 2026-02-14
